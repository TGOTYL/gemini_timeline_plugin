# gemini_timeline_plugin
A tepmarmonkey script


---

# 🚀 Gemini 智能导航 (Gemini Smart Navigator)

**Gemini 智能导航** 是一款专为 Google Gemini (gemini.google.com) 打造的增强型交互脚本。它通过在侧边构建一个直观的“对话小地图”，帮助你在长篇大论的 AI 对话中精准定位，并利用 AI 自动生成提问摘要。

---

## ✨ 核心特性

* **📍 极致定位**：自动识别对话中的用户提问与模型回答，点击侧边栏方块即可**置顶跳转**，拒绝反复滚动。
* **🤖 AI 智能摘要**：集成 **智谱 AI (GLM-4-Flash)**，自动为你的提问生成 35 字以内的精炼摘要，鼠标悬停即可预览。
* **🎨 极简美学**：
* **毛玻璃特效**：采用高斯模糊背景，完美融入 Gemini 原生 UI。
* **动态感应**：自动识别 DOM 变化，实时更新导航节点。
* **无损动画**：移除导致视觉疲劳的闪烁缩放，改用丝滑的亮度提升反馈。


* **⚡ 性能优化**：内置请求队列管理（并发数 5），支持历史记录回溯加载，大长篇对话也能流畅运行。

---

## 📸 视觉预览

> *界面右侧的悬浮条即为导航地图，蓝色方块代表用户，灰色方块代表 Gemini。*

---

## 🛠️ 安装步骤

1. **安装插件**：确保你的浏览器已安装 [Tampermonkey](https://www.tampermonkey.net/) (油猴)。
2. **新建脚本**：点击油猴图标 -> 管理面板 -> 加号 `+`。
3. **粘贴代码**：将 `Gemini_Smart_Navigator.js` 中的内容全部覆盖粘贴并保存。
4. **刷新页面**：打开 [Gemini](https://gemini.google.com/app) 即可看到效果。

---

## ⚙️ 配置 AI 摘要功能 (可选)

脚本默认显示原文前 20 字。如需启用**智能摘要**：

1. 前往 [智谱 AI 开放平台](https://open.bigmodel.cn/) 获取免费的 API Key。
2. 在 Gemini 页面，点击油猴插件图标。
3. 在菜单中选择 **"设置智谱 AI Token"**。
4. 粘贴你的 API Key 并确认，页面将自动刷新生效。

---

## 🔧 技术细节

| 模块 | 实现方式 |
| --- | --- |
| **样式方案** | 原生 CSS (Fixed + Backdrop-filter) |
| **摘要引擎** | GLM-4-Flash (通过 GM_xmlhttpRequest 跨域请求) |
| **跳转逻辑** | `scrollIntoView` 配合 `smooth` 行为，支持异步回溯加载 |
| **状态追踪** | 基于内容生成的 Base64 Hash 校验，防止重复渲染 |

---

## 📝 更新日志

### v11.0 完美终极版

* **优化**：将跳转对齐位置改为 `start` (顶部)，阅读体验更佳。
* **修复**：移除了悬停时的 Scale 缩放动画，解决在某些浏览器下的抖动闪烁问题。
* **增强**：提升了在长历史记录下的滚动回溯成功率。
